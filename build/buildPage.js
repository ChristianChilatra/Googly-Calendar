(()=>{"use strict";var e=document.querySelector(".sideBar").querySelector(".myCalendar"),t=e.querySelector("summary"),n=e.querySelectorAll("input[type='checkbox']"),r={open:!0};var o={open:!1},i=document.querySelector(".iconSidebar"),c=document.querySelector(".sideBar"),a=document.querySelector("header"),l=document.querySelector(".buttonCalendar.isPlus");function s(){function s(e){o.open=!0,d(e),l.style.cssText="border-radius: $buttonPlusStyle.borderRadius; inline-size: $buttonPlusStyle.inlineSize",l.querySelector("p").style.display="block"}function u(e){o.open=!1,d(e),l.style.cssText="border-radius: 50%; inline-size: 2rem; ",l.querySelector("p").style.display="none"}function d(e){c.style.inlineSize="".concat(e,"rem")}function y(){var e,t=a.getBoundingClientRect().height;e=t,c.style.blockSize="".concat(window.innerHeight-e,"px")}o.open?s(16):u(0),i.addEventListener("click",(function(){o.open?u(0):s(16)})),y(),function(){function o(){r.open=!0,t.style.setProperty("--img-row-rotate","rotate(180deg)")}function i(){r.open=!1,t.style.setProperty("--img-row-rotate","rotate(0deg)")}e.querySelector("details").open?o():i(),t.addEventListener("click",(function(){r.open?i():o()})),n.forEach((function(e,t){e.addEventListener("click",(function(e){e.target.checked?console.log("True"):console.log("False")}))}))}(),window.addEventListener("resize",(function(){y()}))}var u=new Date;function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=new Intl.DateTimeFormat("es-ES",e).format(t);return n}function y(){return new Date}function p(e){return new Date(u.getFullYear(),e,1)}function f(e){return new Date(u.getFullYear(),e+1,0).getDate()}function v(e){return d({day:"numeric",month:"numeric",year:"numeric"},e).split("/").reverse().join("-")}function h(e){for(var t=[],n=[],r=[],o=p(e),i=o.getDay(),c=f(e),a=0;a<f(o.getMonth()-1);a++)t.push(a+1);for(var l=0;l<c;l++)n.push(l+1);for(var s=0;s<f(o.getMonth()+1);s++)r.push(s+1);var u=[],d=t.length-1;u.push.apply(u,n);for(var y=0;y<i;y++)u.unshift(t[d]),d--;for(var v=0;u.length<42;v++)u.push(r[v]);return u}function g(e){var t=[],n=[];return e.forEach((function(e,r){(r+1)%7==0?(n.push(e),t.push(n),n=[]):n.push(e)})),t}function m(e){return(new DOMParser).parseFromString(e,"text/html").body.firstChild}var S={0:"DOM",1:"LUN",2:"MAR",3:"MIE",4:"JUE",5:"VIE",6:"SAB"},M={1:"01:00",2:"02:00",3:"03:00",4:"04:00",5:"05:00",6:"06:00",7:"07:00",8:"08:00",9:"09:00",10:"10:00",11:"11:00",12:"12:00",13:"13:00",14:"14:00",15:"15:00",16:"16:00",17:"17:00",18:"18:00",19:"19:00",20:"20:00",21:"21:00",22:"22:00",23:"23:00",24:"00:00"},q=document.querySelector("header");function T(e){var t,n=q.querySelector("time"),r=p(e);n.setAttribute("datatime",v(r)),n.querySelector("h2").textContent=((t=d({day:"numeric",month:"long",year:"numeric"},r).split(" ")).shift(),t.shift(),(t=t.join(" ")).replace(t[0],t[0].toUpperCase()))}function L(e,t,n,r){r.style.cssText='\n  grid-template-columns: 5rem auto;\n  grid-template-areas: ". DAY";\n  justify-content: flex-start;';var o=g(h(t)),i=function(e,t,n){var r=!0,o=0;for(;r;)0===o?-1!=t[o].indexOf(n,e.getDay())?r=!1:o++:-1!=t[o].indexOf(n)?r=!1:o++;return o}(e,o,n);!function(e,t,n,r,o,i){var c=t[r].indexOf(o);if(n.append(m('\n      <button class="day" id="day_'.concat(c,"\" style = 'grid-area: DAY'\">\n          <h3>").concat(S[c],"</h3>\n          <p>").concat(o,"</p>\n        </button>\n    "))),c===e.getDay()&&p(e.getMonth()).getMonth()===i&&parseInt(v().split("-")[2])===o){var a=n.querySelector("#day_".concat(c));a.querySelector("p").style.background="var(--blue10)",a.querySelector("p").style.color="var(--white)",a.querySelector("h3").style.color="var(--blue10)"}}(e,o,r,i,n,t),T(t)}function k(e,t,n,r){r.style.cssText='\n  grid-template-columns: 5rem repeat(7, 1fr);\n  grid-template-areas: ". DOM LUN MAR MIE JUE VIE SAB";';var o=g(h(t)),i=function(e,t,n){var r=!0,o=0;for(;r;)0===o?-1!=t[o].indexOf(n,e.getDay())?r=!1:o++:-1!=t[o].indexOf(n)?r=!1:o++;return o}(e,o,n);!function(e,t,n,r,o,i){t[r].forEach((function(t,r){if(n.append(m('\n      <button class="day" id="day_'.concat(r,"\" style = 'grid-area: ").concat(S[r],"'\">\n          <h3>").concat(S[r],"</h3>\n          <p>").concat(t,"</p>\n        </button>\n    "))),r===e.getDay()&&p(e.getMonth()).getMonth()===i&&parseInt(v().split("-")[2])===o){var c=n.querySelector("#day_".concat(r));c.querySelector("p").style.background="var(--blue10)",c.querySelector("p").style.color="var(--white)",c.querySelector("h3").style.color="var(--blue10)"}}))}(e,o,r,i,n,t),T(t)}var E=document.querySelector(".modalMeet"),b=window.getComputedStyle(E),w=parseInt(b.paddingInlineStart)+parseInt(b.paddingInlineEnd),H=parseInt(b.width),x=parseInt(b.paddingBlockStart)+parseInt(b.paddingBlockEnd),D=parseInt(b.height);function I(){var e=document.querySelectorAll(".containerTask"),t=document.querySelector("#cancel");e.forEach((function(e){e.addEventListener("click",A)})),window.addEventListener("click",O),t.addEventListener("click",C)}function A(e){var t=window.innerWidth,n=window.innerHeight;E.open?C():(E.open=!0,function(e,t){E.style.cssText="inset-inline-start: ".concat(e,"px; inset-block-start:").concat(t,"px")}(e.clientX>t/2?e.clientX-(H+w):e.clientX,n<800?12*n/100:e.clientY>n/2?e.clientY-(D+x):e.clientY))}function C(){E.open=!1}function O(e){"containerTask"!=e.target.className&&-1!=e.path.indexOf("dialog.modalMeet")&&C()}var F=y(),Y=document.querySelector(".containerTime");function B(){Y.innerHTML="";var e=-1;Y.style.cssText="\n    grid-template-columns: 5rem repeat(7, 1fr);";for(var t=0;t<25;t++){Y.append(m('\n        <div class="hour"><span>'.concat(M[t],"</span><hr></div>\n            ")));for(var n=0;n<7;n++)Y.append(m('\n            <div class="containerTask" id="'.concat(e,"-").concat(n,'"></div>\n            ')));e++}for(var r=Y.querySelectorAll("div"),o=[],i=0;i<8;i++)o.push(r[i]);o.forEach((function(e,t){0===t&&(e.querySelector("span").setAttribute("id","firstChild"),e.querySelector("span").textContent="GMT-0".concat(y().getTimezoneOffset()/60)),e.style.cssText="position: sticky; inset-block-start: 0; background: var(--white)"})),I(),document.querySelectorAll(".containerTask").forEach((function(e){e.id==="".concat(F.getHours(),"-").concat(F.getDay())&&(e.scrollIntoView(),e.append(m('\n        <div class="currentHour"></div>\n        ')))}))}function z(){Y.innerHTML="",Y.style.cssText="\n    grid-template-columns: 5rem auto;";for(var e=-1,t=0;t<25;t++){Y.append(m('\n        <div class="hour"><span>'.concat(M[t],"</span><hr></div>\n            ")));for(var n=0;n<1;n++)Y.append(m('\n            <div class="containerTask" id="'.concat(e,'"></div>\n            '))),e++}for(var r=Y.querySelectorAll("div"),o=[],i=0;i<2;i++)o.push(r[i]);o.forEach((function(e,t){0===t&&(e.querySelector("span").setAttribute("id","firstChild"),e.querySelector("span").textContent="GMT-0".concat(y().getTimezoneOffset()/60)),e.style.cssText="position: sticky; inset-block-start: 0; background: var(--white)"})),I(),document.querySelectorAll(".containerTask").forEach((function(e){parseInt(e.id)===F.getHours()&&(e.scrollIntoView(),e.append(m('\n        <div class="currentHour" tabindex="1"></div>\n        ')))}))}var P=document.querySelector(".sideBar"),U=P.querySelector(".days");function j(e,t){!function(e){var t=P.querySelector("time");t.setAttribute("datatime",v(p(e))),t.querySelector("h2").textContent=(n=p(e),r=d({day:"numeric",month:"long",year:"numeric"},n).split(" "),r.shift(),r.shift(),(r=r.join(" ")).replace(r[0],r[0].toUpperCase()));var n,r}(t);var n=h(t);!function(e,t){e.forEach((function(e){t.append(m('\n      <a class="dayMini-calendar">'.concat(e,"</a>\n    ")))}))}(n,U),function(e,t,n){e.querySelectorAll(".dayMini-calendar").forEach((function(e,r){r<t.indexOf(1)&&(e.style.color="var(--gray20)"),r>t.lastIndexOf(n)&&(e.style.color="var(--gray20)")}))}(U,n,f(t)),function(e,t){for(var n=U.querySelectorAll(".dayMini-calendar"),r=new Date(y().getFullYear(),y().getMonth(),1),o=new Date(y().getFullYear(),y().getMonth()+1,0),i=r.getDay();i<o.getDate();i++)parseInt(n[i].textContent)===e&&t===y().getMonth()&&(n[i].style.background="var(--blue10)",n[i].style.color="var(--white)")}(e,t)}var R=document.querySelector("#selectTime"),V=document.querySelector(".calendarWeek"),_=V.querySelector(".containerDays"),N=V.querySelector(".containerTime"),X=document.querySelector(".buttonPrevious"),G=document.querySelector(".buttonFollowing"),J=document.querySelector(".buttonCalendar"),W=document.querySelector(".sideBar"),$=W.querySelector(".days"),K=$.children,Q=W.querySelector(".buttonPrevious"),Z=W.querySelector(".buttonFollowing");window.onload=function(){s(),j(re,te),se(),ie(),L(ee,te,re,_),z(),he()};var ee=y(),te=p(ee.getMonth()).getMonth(),ne=f(te),re=parseInt(v().split("-")[2]),oe=document.querySelector(".containerDays");function ie(){X.addEventListener("click",ue),G.addEventListener("click",de),J.addEventListener("click",fe)}function ce(){X.addEventListener("click",ye),G.addEventListener("click",pe),J.addEventListener("click",ve)}function ae(){X.removeEventListener("click",ue),G.removeEventListener("click",de),J.removeEventListener("click",fe)}function le(){X.removeEventListener("click",ye),G.removeEventListener("click",pe),J.removeEventListener("click",ve)}function se(){Array.from(K).forEach((function(e,t){e.addEventListener("click",(function(){t<new Date(ee.getFullYear(),te,1).getDay()?(te--,$.innerHTML="",j(re,te),se()):t>=new Date(ee.getFullYear(),te+1,0).getDate()+new Date(ee.getFullYear(),te,1).getDay()&&(te++,$.innerHTML="",j(re,te),se()),re=parseInt(e.textContent),"dia"===R.selectedOptions[0].value?(le(),ie(),_.innerHTML="",N.innerHTML="",L(ee,te,re,_),z(),he()):"mes"===R.selectedOptions[0].value&&(ae(),ce(),_.innerHTML="",N.innerHTML="",k(ee,te,re,_),B(),he())}))}))}function ue(){1===Math.sign(re-1)?(re--,oe.innerHTML="",L(ee,te,re,_)):(te--,ne=f(te),re=ne,oe.innerHTML="",L(ee,te,re,_)),he()}function de(){re+1<=ne?(re++,oe.innerHTML="",L(ee,te,re,_)):(te++,re=1,oe.innerHTML="",L(ee,te,re,_)),he()}function ye(){1===Math.sign(re-7)?(re-=7,oe.innerHTML="",k(ee,te,re,_)):(te--,ne=f(te),re=ne+(re-7),oe.innerHTML="",k(ee,te,re,_)),he()}function pe(){re+7<=ne?(re+=7,oe.innerHTML="",k(ee,te,re,_)):(ne=f(te),te++,re=re+7-ne,oe.innerHTML="",k(ee,te,re,_)),he()}function fe(){re=parseInt(v().split("-")[2]),te=p(ee.getMonth()).getMonth(),ne=f(te),oe.innerHTML="",L(ee,te,re,_),$.innerHTML="",j(re,te),se(),he()}function ve(){re=parseInt(v().split("-")[2]),te=p(ee.getMonth()).getMonth(),ne=f(te),oe.innerHTML="",k(ee,te,re,_),$.innerHTML="",j(re,te),se(),he()}function he(){var e=document.querySelector(".currentHour");re!=parseInt(v().split("-")[2])||te!=p(ee.getMonth()).getMonth()?e.style.cssText="visibility: hidden":re===parseInt(v().split("-")[2])&&te===p(ee.getMonth()).getMonth()&&(e.style.cssText="visibility: visibility")}R.addEventListener("change",(function(){switch(R.selectedOptions[0].value){case"dia":le(),ie(),_.innerHTML="",N.innerHTML="",L(ee,te,re,_),z(),he();break;case"mes":ae(),ce(),_.innerHTML="",N.innerHTML="",k(ee,te,re,_),B(),he()}})),Q.addEventListener("click",(function(){te--,$.innerHTML="",j(re,te),se()})),Z.addEventListener("click",(function(){te++,$.innerHTML="",j(re,te),se()}))})();